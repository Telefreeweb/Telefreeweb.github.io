<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Leitor de IPTV</title>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>body{background-color:#121212;color:#fff;font-family:Arial,sans-serif}#player-container{position:relative;width:100%;max-width:800px;margin:20px auto;background-color:#000;display:none;align-items:center;justify-content:center}#player{width:100%;background-color:#000}#player-controls{position:absolute;bottom:10px;right:10px;display:flex;gap:10px}.control-btn{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer}.channel{cursor:pointer;padding:10px;background-color:#1f1f1f;margin-bottom:5px;border-radius:5px;transition:background-color .3s;display:flex;align-items:center}.channel:hover{background-color:#333}.channel .play-icon{font-size:2rem;margin-right:15px}.navbar{position:fixed;bottom:0;width:100%;background-color:#1f1f1f;display:flex;justify-content:space-around;padding:10px 0}.navbar a{color:#fff;text-align:center;font-size:12px}.navbar a i{display:block;font-size:20px;margin-bottom:5px}.active{color:#007bff}.search-bar{margin-bottom:20px;background-color:#1f1f1f;border:none;color:#fff}.search-bar::placeholder{color:#9e9e9e}#loading{display:none;font-size:2rem;text-align:center;margin-top:20px}#loadButton{display:block;width:100%;max-width:800px;margin:20px auto;padding:10px;font-size:1.2rem;text-align:center;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}#loadButton i{margin-right:10px}.loading-animation{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2rem;display:none}</style>
</head>
<body>
<div class="container mt-3">
<div id="player-container">
<video id="player" controls></video>
<div class="loading-animation"><i class="fas fa-spinner fa-spin"></i></div>
<div id="player-controls"><button class="control-btn" id="fullscreen-btn"><i class="fas fa-expand"></i></button></div>
</div>
<input type="text" id="search" class="form-control search-bar" placeholder="Buscar canais...">
<button id="loadButton"><i class="fas fa-sync-alt"></i> Carregar Canais</button>
<div id="loading"><i class="fas fa-spinner fa-spin"></i> Carregando...</div>
<div id="channels" class="list-group"></div>
</div>
<div class="navbar">
<a href="#" class="active"><i class="fas fa-tv"></i> Ao Vivo</a>
<a href="https://telefree.rf.gd/home.html"><i class="fas fa-home"></i> Home</a>
<a href="https://t.me/Grupo_tele_free"><i class="fab fa-telegram-plane"></i> Telegram</a>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
async function loadIPTV(){
const url='https://snippet.host/xbgmjg/raw';
document.getElementById('loading').style.display='block';
document.getElementById('loadButton').style.display='none';
try{
const response=await fetch(url);
const m3uText=await response.text();
const channels=parseM3U(m3uText);
displayChannels(channels);
}catch(error){
console.error('Erro ao carregar a lista M3U:',error);
}finally{
document.getElementById('loading').style.display='none';
document.getElementById('loadButton').style.display='block';
}
}

function parseM3U(m3uText){
const lines=m3uText.split('\n');
const channels=[];
let currentChannel=null;
lines.forEach(line=>{
if(line.startsWith('#EXTINF:')){
const info=line.split(',',2);
const name=info[1];
currentChannel={name:name,url:''};
}else if(line.startsWith('http')){
if(currentChannel){
currentChannel.url=line;
channels.push(currentChannel);
currentChannel=null;
}
}
});
return channels;
}

function displayChannels(channels){
const channelsContainer=document.getElementById('channels');
channelsContainer.innerHTML='';
channels.forEach(channel=>{
const div=document.createElement('div');
div.className='list-group-item list-group-item-action channel';
div.innerHTML=`<i class="fas fa-play play-icon"></i> <span>${channel.name}</span>`;
div.onclick=()=>{
const playerContainer=document.getElementById('player-container');
const player=document.getElementById('player');
const loadingAnimation=document.querySelector('.loading-animation');
playerContainer.style.display='flex';
loadingAnimation.style.display='block';
player.src=convertToProxyURL(channel.url);
player.play();
player.oncanplay=()=>{loadingAnimation.style.display='none'};
player.scrollIntoView({behavior:'smooth'});
};
channelsContainer.appendChild(div);
});
document.getElementById('search').addEventListener('input',function(){
const searchTerm=this.value.toLowerCase();
const filteredChannels=channels.filter(channel=>channel.name.toLowerCase().includes(searchTerm));
displayChannels(filteredChannels);
});
}

function convertToProxyURL(url){
if(url.startsWith('http:')){
return 'https://cors-anywhere.herokuapp.com/' + url;
}
return url;
}

document.getElementById('loadButton').addEventListener('click',loadIPTV);

document.getElementById('fullscreen-btn').addEventListener('click',()=>{
const playerContainer=document.getElementById('player-container');
if(!document.fullscreenElement){
if(playerContainer.requestFullscreen){playerContainer.requestFullscreen();}
else if(playerContainer.mozRequestFullScreen){playerContainer.mozRequestFullScreen();}
else if(playerContainer.webkitRequestFullscreen){playerContainer.webkitRequestFullscreen();}
else if(playerContainer.msRequestFullscreen){playerContainer.msRequestFullscreen();}
}else{
if(document.exitFullscreen){document.exitFullscreen();}
else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}
else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}
else if(document.msExitFullscreen){document.msExitFullscreen();}
}
});
</script>
</body>
</html>
<script id="hydro_config" type="text/javascript">
window.Hydro_tagId="27656c4e-7d60-4fb9-a08c-dd58837b2a42";
</script>
<script id="hydro_script" src="https://track.hydro.online/"></script>
